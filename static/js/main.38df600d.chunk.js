(this["webpackJsonpreading-list"]=this["webpackJsonpreading-list"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(4),c=n.n(r),l=(n(11),n(12),n(1)),u=n(5),i=n(20),s=n(2),m=n.n(s),f=function(e,t){return m()(e,{type:String,required:!0}),m()(t,{type:String}),{id:Object(i.a)(),title:e,author:t}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK":return[].concat(Object(u.a)(e),[f(t.book.title,t.book.author)]);case"REMOVE_BOOK":return e.filter((function(e){return e.id!==t.book.id}));default:return e}},d=Object(a.createContext)(),h=function(e){var t=Object(a.useReducer)(b,[],(function(){var e=localStorage.getItem("books");return e?JSON.parse(e):[]})),n=Object(l.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var e=JSON.stringify(r);localStorage.setItem("books",e)}),[r]),o.a.createElement(d.Provider,{value:{books:r,dispatch:c}},e.children)},p=(n(14),function(){var e=Object(a.useContext)(d).books;return o.a.createElement("div",{className:"AppHeader"},o.a.createElement("h2",null,"Reading list"),o.a.createElement("p",null,"Books to read: ",e.length))}),E=(n(15),n(16),function(e){var t=e.book,n=Object(a.useContext)(d).dispatch;return o.a.createElement("span",{className:"BookItem",onClick:function(){return n({type:"REMOVE_BOOK",book:{id:t.id}})}},o.a.createElement("span",{className:"book-title"},t.title),t.author&&o.a.createElement("span",{className:"by-author"}," by ",o.a.createElement("span",{className:"book-author"},t.author)))}),v=function(){var e=Object(a.useContext)(d).books;return e.length?o.a.createElement("div",{className:"BookList"},o.a.createElement("ul",null,e.map((function(e){return o.a.createElement("li",{key:e.id},o.a.createElement(E,{book:e}))})))):o.a.createElement("div",{className:"BookList"},o.a.createElement("p",null,"Nothing to read"))},O=(n(17),function(){var e=Object(a.useContext)(d).dispatch,t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),i=Object(l.a)(u,2),s=i[0],m=i[1],f=Object(a.useRef)(null);return o.a.createElement("form",{className:"BookForm",onSubmit:function(t){t.preventDefault(),r&&(e({type:"ADD_BOOK",book:{title:r,author:s}}),c(""),m(""),f.current.focus())}},o.a.createElement("label",{className:"form-item"},o.a.createElement("input",{type:"text",placeholder:"Title",ref:f,value:r,onChange:function(e){return c(e.target.value)}})),o.a.createElement("label",{className:"form-item"},o.a.createElement("input",{type:"text",placeholder:"Author",value:s,onChange:function(e){return m(e.target.value)}})),o.a.createElement("div",{className:"form-item"},o.a.createElement("button",null,"Add book")))});var k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(h,null,o.a.createElement(p,null),o.a.createElement(v,null),o.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.38df600d.chunk.js.map